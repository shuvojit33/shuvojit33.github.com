!function(e){"use strict";function t(e){function t(e,t,a){var i=e.querySelector(".pi-canvas"),r=a/t*100;i.setAttribute("style","padding-bottom:"+r+"%;")}function a(e,a){var r=e.children[0];if(e.dataset.width&&e.dataset.height)t(e,e.dataset.width,e.dataset.height);else if(r.getAttribute("width")&&r.getAttribute("height"))t(e,r.getAttribute("width"),r.getAttribute("height"));else var o=!1;var s=new Image;s.onload=function(){r.classList.add("loaded"),0==o&&t(e,this.width,this.height),i()},s.onerror=function(){console.log("Small Image - "+a+" Failed To Load"),i()},s.src=r.src}function i(){if(n++,n==s)for(var e=0;e<s;e++)r(o[e],e)}function r(t,a){function i(e,t){return(" "+e.className+" ").indexOf(" "+t+" ")>-1}var r=t.offsetWidth,o=Math.round(r/(t.dataset.width/t.dataset.height));i(e.nextSibling,"mRight")&&e.nextSibling.setAttribute("style","height:"+(parseInt(o)-1)+"px;");var s=new Image;if(s.onload=function(){s.classList.add("loaded","largeImage"),t.removeAttribute("data-large")},s.onerror=function(){console.log("Large Image - "+a+" Failed To Load")},t.dataset.large)s.src=t.dataset.large;else if("blogger"==t.dataset.source){var n=t.children[0],d=n.src,l=d.replace("w40-h30-c","w"+r+"-h"+o+"-c");s.src=l}else console.log("Data Large Image - "+a+" is missing");t.appendChild(s)}for(var o=e.querySelectorAll(".progressiveImage"),s=o.length,n=0,d=0;d<s;d++)a(o[d],d)}e.ProgressiveImage=t}(window);