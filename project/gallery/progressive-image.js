!function(t){"use strict";function e(t){function e(t,e,a){var i=t.querySelector(".pi-canvas"),r=a/e*100;i.setAttribute("style","padding-bottom:"+r+"%;")}function a(t,a){var r=t.children[0];if(t.dataset.width&&t.dataset.height)e(t,t.dataset.width,t.dataset.height);else if(r.getAttribute("width")&&r.getAttribute("height"))e(t,r.getAttribute("width"),r.getAttribute("height"));else var s=!1;var n=new Image;n.onload=function(){r.classList.add("loaded"),0==s&&e(t,this.width,this.height),i()},n.onerror=function(){i()},n.src=r.src}function i(){if(o++,o==n)for(var t=0;t<n;t++)r(s[t],t)}function r(e,a){function i(t,e){return(" "+t.className+" ").indexOf(" "+e+" ")>-1}var r=e.offsetWidth,s=Math.round(r/(e.dataset.width/e.dataset.height));if(i(t.nextSibling,"mRight")){var n=(document.getElementsByTagName("html")[0],t.getElementsByClassName("progressiveImage")[0]);t.setAttribute("style","height:"+parseInt(s)+"px;"),n.setAttribute("style","height:"+parseInt(s)+"px; width: "+parseInt(r)+"px;"),t.nextSibling.setAttribute("style","height:"+parseInt(s)+"px;")}var o=new Image;if(o.onload=function(){o.classList.add("loaded","largeImage"),e.removeAttribute("data-large")},o.onerror=function(){console.log("Large Image - "+a+" Failed To Load")},e.dataset.large)o.src=e.dataset.large;else if("blogger"==e.dataset.source){var g=e.children[0],l=g.src,d=l.split("/"),h=d[d.length-2],c=l.replace(h,"w"+r+"-h"+s+"-c");o.src=c}else console.log("Data Large Image - "+a+" is missing");e.appendChild(o)}for(var s=t.querySelectorAll(".progressiveImage"),n=s.length,o=0,g=0;g<n;g++)a(s[g],g)}t.ProgressiveImage=e}(window);